{% extends 'base.html' %}

{% load static %}

{% block content %}

    <!-- ##### Hero Area Start ##### -->
    <section class="hero-area">
        <div class="hero-slides owl-carousel">
            <!-- Single Hero Slide -->
            <div class="single-hero-slide bg-img" style="background-image: url({% static 'img/bg-img/hero1.jpg' %});">
                <div class="container h-100">
                    <div class="row h-100 align-items-center">
                        <div class="col-12">
                            <div class="hero-slides-content">
                                <h2 data-animation="fadeInUp" data-delay="100ms">Find your home</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Single Hero Slide -->
            <div class="single-hero-slide bg-img" style="background-image: url({% static 'img/bg-img/hero2.jpg' %});">
                <div class="container h-100">
                    <div class="row h-100 align-items-center">
                        <div class="col-12">
                            <div class="hero-slides-content">
                                <h2 data-animation="fadeInUp" data-delay="100ms">Find your dream house</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Single Hero Slide -->
            <div class="single-hero-slide bg-img" style="background-image: url({% static 'img/bg-img/hero3.jpg' %});">
                <div class="container h-100">
                    <div class="row h-100 align-items-center">
                        <div class="col-12">
                            <div class="hero-slides-content">
                                <h2 data-animation="fadeInUp" data-delay="100ms">Find your perfect house</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Hero Area End ##### -->

    <!-- ##### Advance Search Area Start ##### -->
    <!-- ======= Home Search Area ======= -->
    <div class="south-search-area">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="advanced-search-form">
          <!-- Search Title -->
          <div class="search-title">
            <p>Search for your home</p>
          </div>

          <!-- Search Form -->
          <form action="/" method="get" id="advanceSearch">
            <div class="row">

              <!-- Keyword -->
              <div class="col-12 col-md-4 col-lg-3">
                <div class="form-group">
                  <input
                    type="text"
                    class="form-control"
                    name="keyword"
                    placeholder="Keyword (e.g. luxury, villa)"
                  />
                </div>
              </div>

              <!-- City -->
              <div class="col-12 col-md-4 col-lg-3">
                <div class="form-group">
                  <input
                    type="text"
                    class="form-control"
                    name="city"
                    placeholder="City"
                  />
                </div>
              </div>

              <!-- Category -->

              <div class="col-12 col-md-4 col-lg-3">
                <div class="form-group">
                  <select class="form-control" name="category">
                    <option value="all">All Categories</option>
                      {% for category in categories %}
                    <option value="{{ category }}">{{ category }}</option>
                      {% endfor %}
                  </select>
                </div>
              </div>

              <!-- Status -->
              <div class="col-12 col-md-4 col-lg-3">
                <div class="form-group">
                  <select class="form-control" name="status">
                    <option value="">All Status</option>
                    <option value="sale">Sale</option>
                    <option value="rent">Rent</option>
                  </select>
                </div>
              </div>

              <!-- Price Range -->
              <div class="col-12 col-md-6 col-lg-6 d-flex flex-column">
                <div class="slider-range w-100">
                  <label class="d-block mb-1">Price Range ($)</label>
                  <div
                    id="priceSlider"
                    data-min="10000"
                    data-max="1000000"
                    data-step="1000"
                  ></div>
                  <div class="range mt-2">
                    <span id="priceRange">10000 - 1000000</span>
                  </div>
                  <input type="hidden" name="price_min" id="priceMin" />
                  <input type="hidden" name="price_max" id="priceMax" />
                </div>
              </div>

              <!-- Size Range -->
              <div class="col-12 col-md-6 col-lg-6 d-flex flex-column">
                <div class="slider-range w-100">
                  <label class="d-block mb-1">Size Range (sq. ft)</label>
                  <div
                    id="sizeSlider"
                    data-min="50"
                    data-max="1000"
                    data-step="10"
                  ></div>
                  <div class="range mt-2">
                    <span id="sizeRange">50 - 1000 sq. ft</span>
                  </div>
                  <input type="hidden" name="size_min" id="sizeMin" />
                  <input type="hidden" name="size_max" id="sizeMax" />
                </div>
              </div>

              <!-- More Filters -->
              <div class="col-12 search-form-second-steps" style="display: none;">
                <div class="row mt-3">

                  <div class="col-12 col-md-4">
                    <div class="form-group">
                      <select class="form-control" name="bathrooms">
                        <option value="">Bathrooms</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5+</option>
                      </select>
                    </div>
                  </div>

                  <div class="col-12 col-md-4">
                    <div class="form-group">
                      <select class="form-control" name="garages">
                        <option value="">Garages</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4+</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Buttons -->
              <div class="col-12 d-flex justify-content-between align-items-end mt-3">
                <div class="more-filter">
                  <a href="#" id="moreFilter">+ More filters</a>
                </div>
                <div class="form-group mb-0">
                  <button type="submit" class="btn south-btn">Search</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

    <!-- ##### Advance Search Area End ##### -->

    <!-- ##### Featured Properties Area Start ##### -->
    <section class="featured-properties-area section-padding-100-50">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-heading wow fadeInUp">
                        <h2>Featured Properties</h2>
                        <p>Suspendisse dictum enim sit amet libero malesuada feugiat.</p>
                    </div>
                </div>
            </div>

            <div class="row">

<!-- Single Featured Property -->
                {% for home in homes %}
                <div class="col-12 col-md-6 col-xl-4">
                    <div class="single-featured-property mb-50 wow fadeInUp" data-wow-delay="500ms">
                        <!-- Property Thumbnail -->

                        

                        <div class="property-thumb">
                            <img src="{{ home.main_image.url }}" alt="" style="width:100%; height:250px; object-fit:cover;">
                            <div class="tag">
                                <span>For {{ home.status }}</span>
                            </div>
                            <div class="list-price">
                                <p>${{ home.price }}</p>
                            </div>
                        </div>
                        <!-- Property Content -->
                        <div class="property-content">
                            <h5>{{ home.name }}</h5>
                            <p class="location"><img src="{% static 'img/icons/location.png' %}" alt="">{{ home.city }}</p>
                            <p>{{ home.desc | truncatewords:10 }}</p>
                            <div class="property-meta-data d-flex align-items-end justify-content-between">
                                <div class="new-tag">
                                    {% if home.is_new == True %}
                                        <img src="{% static 'img/icons/new.png' %}" alt="">
                                    {% else %}
                                        <img src="{% static 'img/icons/prize.png' %}" alt="">
                                    {% endif %}
                                </div>
                                <div class="bathroom">
                                    <img src="{% static 'img/icons/bathtub.png' %}" alt="">
                                    <span>{{ home.num_of_bathrooms }}</span>
                                </div>
                                <div class="garage">
                                    <img src="{% static 'img/icons/garage.png' %}" alt="">
                                    <span>{{ home.num_of_garages }}</span>
                                </div>
                                <div class="space">
                                    <img src="{% static 'img/icons/space.png' %}" alt="">
                                    <span>{{ home.size }} sq ft</span>
                                </div>
                            </div>
                        </div>

                        

                    </div>
                    
                </div>
                {% endfor %}
            </div>
            
        </div>
        
    </section>
    <!-- ##### Featured Properties Area End ##### -->

    <!-- ##### Call To Action Area Start ##### -->
    <section class="call-to-action-area bg-fixed bg-overlay-black" style="background-image: url({% static 'img/bg-img/cta.jpg' %})">
        <div class="container h-100">
            <div class="row align-items-center h-100">
                <div class="col-12">
                    <div class="cta-content text-center">
                        <h2 class="wow fadeInUp" data-wow-delay="300ms">Are you looking for a place to rent?</h2>
                        <h6 class="wow fadeInUp" data-wow-delay="400ms">Suspendisse dictum enim sit amet libero malesuada feugiat.</h6>
                        <a href="#" class="btn south-btn mt-50 wow fadeInUp" data-wow-delay="500ms">Search</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Call To Action Area End ##### -->

    <!-- ##### Testimonials Area Start ##### -->
    <section class="south-testimonials-area section-padding-100">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-heading wow fadeInUp" data-wow-delay="250ms">
                        <h2>Client testimonials</h2>
                        <p>Suspendisse dictum enim sit amet libero malesuada feugiat.</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="testimonials-slides owl-carousel wow fadeInUp" data-wow-delay="500ms">

                        <!-- Single Testimonial Slide -->
                        <div class="single-testimonial-slide text-center">
                            <h5>Perfect Home for me</h5>
                            <p>Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit amet tellus blandit. Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit am et tellus blandit. Etiam nec odio vestibul. Etiam nec odio vestibulum est mat tis effic iturut magna.</p>

                            <div class="testimonial-author-info">
                                <img src="{% static 'img/bg-img/feature6.jpg' %}" alt="">
                                <p>Daiane Smith, <span>Customer</span></p>
                            </div>
                        </div>

                        <!-- Single Testimonial Slide -->
                        <div class="single-testimonial-slide text-center">
                            <h5>Perfect Home for me</h5>
                            <p>Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit amet tellus blandit. Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit am et tellus blandit. Etiam nec odio vestibul. Etiam nec odio vestibulum est mat tis effic iturut magna.</p>

                            <div class="testimonial-author-info">
                                <img src="{% static 'img/bg-img/feature6.jpg' %}" alt="">
                                <p>Daiane Smith, <span>Customer</span></p>
                            </div>
                        </div>

                        <!-- Single Testimonial Slide -->
                        <div class="single-testimonial-slide text-center">
                            <h5>Perfect Home for me</h5>
                            <p>Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit amet tellus blandit. Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit am et tellus blandit. Etiam nec odio vestibul. Etiam nec odio vestibulum est mat tis effic iturut magna.</p>

                            <div class="testimonial-author-info">
                                <img src="{% static 'img/bg-img/feature6.jpg' %}" alt="">
                                <p>Daiane Smith, <span>Customer</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Testimonials Area End ##### -->

    <!-- ##### Editor Area Start ##### -->
    <section class="south-editor-area d-flex align-items-center">
        <!-- Editor Content -->
        <div class="editor-content-area">
            <!-- Section Heading -->
            <div class="section-heading wow fadeInUp" data-wow-delay="250ms">
                <img src="{% static 'img/icons/prize.png' %}" alt="">
                <h2>jeremy Scott</h2>
                <p>Realtor</p>
            </div>
            <p class="wow fadeInUp" data-wow-delay="500ms">Etiam nec odio vestibulum est mattis effic iturut magna. Pellentesque sit amet tellus blandit. Etiam nec odiomattis effic iturut magna. Pellentesque sit am et tellus blandit. Etiam nec odio vestibul. Etiam nec odio vestibulum est mat tis effic iturut magna. Curabitur rhoncus auctor eleifend. Fusce venenatis diam urna, eu pharetra arcu varius ac. Etiam cursus turpis lectus, id iaculis risus tempor id. Phasellus fringilla nisl sed sem scelerisque, eget aliquam magna vehicula.</p>
            <div class="address wow fadeInUp" data-wow-delay="750ms">
                <h6><img src="{% static 'img/icons/phone-call.png' %}" alt=""> +45 677 8993000 223</h6>
                <h6><img src="{% static 'img/icons/envelope.png' %}" alt=""> office@template.com</h6>
            </div>
            <div class="signature mt-50 wow fadeInUp" data-wow-delay="1000ms">
                <img src="{% static 'img/core-img/signature.png' %}" alt="">
            </div>
        </div>

        <!-- Editor Thumbnail -->
        <div class="editor-thumbnail">
            <img src="{% static 'img/bg-img/editor.jpg' %}" alt="">
        </div>
    </section>
    <!-- ##### Editor Area End ##### -->



    <!-- ======= jQuery + Range + Toggle Script ======= -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js"></script>
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css"
    />

    <script>
  $(function () {
    // PRICE SLIDER
    const priceMin = $("#priceSlider").data("min");
    const priceMax = $("#priceSlider").data("max");
    const priceStep = $("#priceSlider").data("step");

    $("#priceSlider").slider({
      range: true,
      min: priceMin,
      max: priceMax,
      step: priceStep,
      values: [priceMin, priceMax],
      slide: function (event, ui) {
        $("#priceRange").text(ui.values[0] + " - " + ui.values[1]);
        $("#priceMin").val(ui.values[0]);
        $("#priceMax").val(ui.values[1]);
      },
    });
    $("#priceMin").val(priceMin);
    $("#priceMax").val(priceMax);

    // SIZE SLIDER
    const sizeMin = $("#sizeSlider").data("min");
    const sizeMax = $("#sizeSlider").data("max");
    const sizeStep = $("#sizeSlider").data("step");

    $("#sizeSlider").slider({
      range: true,
      min: sizeMin,
      max: sizeMax,
      step: sizeStep,
      values: [sizeMin, sizeMax],
      slide: function (event, ui) {
        $("#sizeRange").text(ui.values[0] + " - " + ui.values[1] + " sq. ft");
        $("#sizeMin").val(ui.values[0]);
        $("#sizeMax").val(ui.values[1]);
      },
    });
    $("#sizeMin").val(sizeMin);
    $("#sizeMax").val(sizeMax);

    // MORE FILTERS TOGGLE
  });
</script>
{% endblock %}
    